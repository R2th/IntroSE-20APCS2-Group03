Đối với các lập trình viên web, chắc hẳn cookie và session là hai thức rất đỗi quen thuộc, song liệu các bạn đã bao giờ nghe tới First-Party và Third-Party Cookie. Trong phạm vi bài viết này mình sẽ giới thiệu những định nghĩa cơ bản về  First-Party và Third-Party Cookie.

Bỏ quan phần cookie là chi, hình dạng nó như thế nào, mình sẽ đi thẳng vào ứng dụng của nó và từ đó giới thiệu về 2 loại cookie được giới thiệu đến từ đầu bài. Về cookie, cookie thường được dùng để lưu cấu hình trang web (ví dụ: tùy chọn ngôn ngữ), chi tiết đăng nhập và các sản phẩm được thêm vào giỏ hàng ngay cả sau khi người dùng rời khỏi trang web,  vì các tệp cookie được sử dụng rộng rãi để thu thập một số thông tin nhất định, chúng cũng có thể được sử dụng trong các quy trình quảng cáo như nghiên cứu lưu trữ hành vi người dùng và định hướng người dùng. 

Việc hiểu vai trò của cookie trong công nghệ quảng cáo là rất quan trọng để nắm bắt tốt hơn về quảng cáo trực tuyến và quyền riêng tư của mỗi người.
Trong những năm qua, cookie đã trở nên hết sức quan trọng trên Internet và hiện là phương pháp phổ biến nhất để xác định người dùng trực tuyến và cung cấp trải nghiệm duyệt web được cá nhân hóa. Với sự nhận thức ngày càng tăng về các vấn đề bảo mật và sự ra đời của các luật như Quy định bảo vệ dữ liệu chung (GDPR) của EU và ePrivacy, cần phải giáo dục người dùng về những tập tin cookie thực sự làm gì, những thông tin nào họ có thể chứa.
## Có những loại cookie nào?
Về cơ bản có hai loại cookie: first-party và third-party. Từ góc độ kỹ thuật, không có sự khác biệt thực sự giữa hai loại cookie; cả hai đều chứa cùng một phần thông tin và có thể thực hiện các chức năng giống nhau.
Tuy nhiên, sự khác biệt thực sự giữa các loại cookie có liên quan đến cách chúng được tạo và sử dụng sau đó, điều này thường phụ thuộc vào ngữ cảnh. Có những lợi ích khác nhau của việc tạo cookie của first-party cookies với third-party cookies.
First-party cookies của bên thứ nhất được lưu trữ bởi tên miền (trang web) bạn đang truy cập trực tiếp. Chúng cho phép chủ sở hữu trang web thu thập dữ liệu phân tích, ghi nhớ cài đặt ngôn ngữ và thực hiện các chức năng hữu ích khác giúp cung cấp trải nghiệm người dùng tốt.

Third-party cookies được tạo bởi các tên miền khác với tên miền bạn đang truy cập trực tiếp, do đó nó được gọi là third-party. Chúng được sử dụng để theo dõi trên nhiều trang web, định hướng mục tiêu mục tiêu lại và phân phát quảng cáo.
Liệu bạn có đang tự hỏi: "second-party cookies thì sao?", sự tồn tại của second-party cookies là một chủ đề gây tranh cãi. Second-party cookies là cookie được chuyển từ một công ty (công ty đã tạo cookie của bên thứ nhất) sang một công ty khác thông qua một số loại đối tác dữ liệu. Ví dụ: một hãng hàng không có thể bán first-party cookies (và dữ liệu của bên thứ nhất khác như tên, địa chỉ email, v.v.) cho chuỗi khách sạn đáng tin cậy để sử dụng cho định hướng mục tiêu quảng cáo, điều đó có nghĩa là cookies được phân loại là second-party.
## First-Party and Third-Party Cookies khác nhau như thế nào?
Về mặt kỹ thuật, first-party cookies với third-party cookies đều cùng một loại tệp. Điều khác biệt ở đây là cách chúng được tạo và sử dụng bởi các trang web.
### 1.  First-Party Cookies là gì?
First-party cookies được tạo bởi tên miền máy chủ - tên miền mà người dùng đang truy cập. Các kiểu cookies này được coi là tốt; chúng giúp cung cấp trải nghiệm người dùng tốt hơn, về cơ bản điều nàycó nghĩa là trình duyệt có thể nhớ các thông tin chính, chẳng hạn như những mục bạn thêm vào giỏ hàng, tên người dùng và mật khẩu và tùy chọn ngôn ngữ.
What Are Third-Party Cookies?
### 2. Third-party cookies là gì?
Third-party cookies  là cookies được tạo bởi các tên miền khác với tên miền mà người dùng đang truy cập vào thời điểm đó và chủ yếu được sử dụng cho mục đích theo dõi và quảng cáo trực tuyến. Họ cũng cho phép chủ sở hữu trang web cung cấp một số dịch vụ nhất định, chẳng hạn như trò chuyện trực tiếp.
![](https://images.viblo.asia/780f6ca8-7702-4777-aee5-7ce151b30dc2.png)
Ví dụ: Ở ví dụ này, khi mình truy cập trang báo điện tử Vnexpress (https://vnexpress.net/) và trước đó mình đã xóa toàn bộ cookie nhưng sau khi cập trang Vnexpress, rất nhiều cookie được set bởi các trang web/domain ngoài Vnexpress.
![First and Third-party cookies khác nhau thế nào (Nguồn: https://clearcode.cc)/](https://images.viblo.asia/23e5202d-c318-4c40-9452-d0446c01753b.png)
## Third-Party Cookies được tạo ra thế nào trên một trang web?
Chắc hẳn First-Party Cookies được tạo ra thế nào là điều rất quen thuộc với mỗi người nên mình sẽ bỏ qua phần này và đi vào trực tiếp Third-Party Cookies
OK - bây giờ hãy nghĩ xem nhé, làm thế nào ad.doubleclick.net hoặc bất kỳ bên thứ ba nào khác có thể tạo cookie nếu người dùng ở trên một trang web khác tại một thời điểm nhất định?
Để tạo cookie của bên thứ ba, request cần phải được gửi từ trang web đến máy chủ của bên thứ ba. Giả sử rằng bạn đã truy cập forbes.com và trang web đó có một video YouTube trên một trong số các trang của nó. Trong trường hợp này, YouTube sẽ đặt cookie sau đó được lưu trên máy tính của bạn.

Điều gì khác biệt xảy ra ở đây? Chính là việc chủ sở hữu trang web - forbes.com, đã nhúng một đoạn code do YouTube cung cấp vào trang web của họ. Khi đoạn code đó được thực thi trong trình duyệt hoặc video được play chẳng hạn, YouTube có thể theo dõi trình phát video và đưa dữ liệu vào cookie. Do đó, cookies này được phân loại là third-party cookies, vì nó được tạo bởi một tên miền khác với forbes.com.
Đặc biệt, loại cookie này được sử dụng rất nhiều trong quảng cáo trực tuyến khi mà các nhà quảng cáo thêm đoạn code của họ vào một trang, họ có thể hiển thị quảng cáo, cũng như theo dõi người dùng và thiết bị trên các trang web khác nhau mà người dùng truy cập.

OK. Như vậy trong phạm vi bài này mình đã giúp các bạn hiểu những nét tổng quan về First-Party and Third-Party Cookies. Ở Phần 2 mình sẽ đi vào các ví dụ cụ thể, các ứng dụng theo dõi, quảng cáo trực tuyến hay mạng xã hội đang ứng dụng cookie thế nào hay một điều khá quan trọng là bạn đang bạn theo dõi như thế nào?

Bài viết có tham khảo từ một số trang web:
* [clearcode](https://clearcode.cc)
* [PiwikPro](https://piwik.pro/)