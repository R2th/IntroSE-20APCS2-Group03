*ThÃ¡ng NÄƒm chÃ o HÃ  Ná»™i báº±ng má»™t tráº­n mÆ°a Ä‘Ãªm. SÃ¡ng nay, giÃ³ vá», mÃ¡t láº¡nh. HÃ  Ná»™i nhÆ° Ä‘Æ°á»£c gá»™t rá»­a nhá»¯ng bá»¥i báº·m vÃ  má»‡t má»i, chá»‰ cÃ²n láº¡i sá»± khoan khoÃ¡i dá»… chá»‹u, cÃ³ cáº£ chÃºt se láº¡nh giá»‘ng mÃ¹a thu ná»¯a ğŸ’¦  ğŸ’¦* 

*Sau nhá»¯ng ngÃ y mÆ°a, hÃ© cÃ¡nh cá»­a Ä‘Ã³n lÃ n giÃ³ má»›i, báº­t má»™t bÃ i nháº¡c dá»‹u Ãªm nhÃ¨ nháº¹, mong ráº±ng chÃºng mÃ¬nh luÃ´n vui váº» vÃ  yÃªu Ä‘á»i nhÆ° HÃ  Ná»™i nhá»¯ng ngÃ y nÃ y nhÃ©!*

![](https://i.imgur.com/0yXXYZH.gif)

# â–  Intro.
Äá»£t vá»«a rá»“i mÃ¬nh Ä‘Äƒng kÃ½ tham gia *[Coding Camp - PhÃ¡ BÄƒng Web 3.0 CÃ¹ng Solana](https://web3vn.solana.com/)*, dÃ¹ má»›i Ä‘i Ä‘Æ°á»£c ná»­a cháº·ng Ä‘Æ°á»ng thÃ´i cÆ¡ mÃ  tháº¥y bao nhiÃªu lÃ  Ä‘iá»u hay ho muá»‘n tÃ¬m hiá»ƒu >.<

BÃ i viáº¿t nÃ y thÃ¬ chÆ°a pháº£i vá» `Sol` ğŸ˜¸  ğŸ˜¸  &nbsp; Cháº³ng lÃ  gáº§n Ä‘Ã¢y, song song vá»›i nhá»¯ng "cÆ¡n sÃ³ng lá»›n" cá»§a thá»‹ trÆ°á»ng, xu hÆ°á»›ng *`Run-to-earn`, `Play-to-earn`, `Shop-to-earn`...* váº«n Ä‘ang Ä‘Æ°á»£c má»i ngÆ°á»i khÃ¡ quan tÃ¢m. Hay lÃ  anh chá»‹ em mÃ¬nh cÅ©ng "bon chen":

```
Learn-to-earn - Code in every universe (Developer Strange in the Multiverse of Madness)
```

Ä‘iii ^^

Trong bÃ i viáº¿t nÃ y, hÃ£y cÃ¹ng nhau tÃ¬m hiá»ƒu vá» cÃ¡ch tá»± táº¡o má»™t `Command-line interface (CLI)` báº±ng `JavaScript`  trÃªn mÃ´i trÆ°á»ng `NodeJS` Ä‘á»ƒ `trade coin/token(s)` trÃªn sÃ n `Binance` nhÃ©!

![](https://images.viblo.asia/f15d2682-e52b-444a-a6bd-f53df0936892.png)


# â–  Target

Äáº§u tiÃªn, ngÃ³ qua chÃºt vá» cÃ¡c lá»‡nh vÃ  chá»©c nÄƒng cá»§a `Binance CLI` mÃ  chÃºng ta sáº¯p lÃ m:

![](https://images.viblo.asia/75cf914f-6a75-45eb-a5ac-872667ad16cd.gif)

<br>

#### MÃ´ táº£:

`Binance CLI` lÃ  má»™t `CLI` há»— trá»£ cÃ¡c dá»‹ch vá»¥ trÃªn sÃ n [`Binance`](https://www.binance.com/) thÃ´ng qua cÃ¡c dÃ²ng lá»‡nh:

```js
$ binance balance                     // Kiá»ƒm tra tÃ i khoáº£n

$ binance price                       // Xem giÃ¡ cÃ¡c Ä‘á»“ng coin/tokens
$ binance price --ass BTC --cur USDT  // Xem giÃ¡ 1 Ä‘á»“ng coin/token cá»¥ thá»ƒ (BTC/USDT)

$ binance order                       // Äáº·t lá»‡nh mua/bÃ¡n coin/token
$ ...
```


#### ğŸš¨  &nbsp; Disclaimer:

***BÃ i viáº¿t nÃ y hÆ°á»›ng tá»›i cÃ¡c anh chá»‹ em Ä‘Ã£ vÃ  Ä‘ang tÃ¬m hiá»ƒu vá» `NodeJS`, `NPM` , `JavaScript`; quan tÃ¢m cÃ¡ch tá»± xÃ¢y dá»±ng má»™t `Command-line interface (CLI)`**.*

*Do Ä‘Ã³, nghiá»‡p vá»¥ `trading` trÃªn `Binance` chá»‰ lÃ  `vÃ­-dá»¥-vá»-máº·t-chá»©c-nÄƒng`, khÃ´ng cÃ³ má»¥c Ä‘Ã­ch l á»« a  Ä‘ áº£ o, bÃ¡n "tool" cho cÃ¡c anh chá»‹ em `non-tech`. Em (mÃ¬nh) xin phÃ©p **`tá»«-chá»‘i-trÃ¡ch-nhiá»‡m`** náº¿u `CLI` nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  cÃ³ báº¥t kÃ¬ rá»§i ro nÃ o vá» máº·t tÃ i chÃ­nh áº¡.*

*ÄÆ°á»£c rá»“i, cÃ¹ng báº¯t Ä‘áº§u thÃ´iii ^^*

# â–  Steps
Äá»ƒ hoÃ n thÃ nh `Binance CLI`, chÃºng ta sáº½ Ä‘i theo cÃ¡c bÆ°á»›c:

ğŸ”— &nbsp;&nbsp;**Init**: *Khá»Ÿi táº¡o dá»± Ã¡n*

ğŸ”— &nbsp;&nbsp;**Config**: *Khai bÃ¡o cÃ¡c lá»‡nh*

ğŸ”— &nbsp;&nbsp;**Features**: *Äi vÃ o tá»«ng chá»©c nÄƒng:*

- **Get balance**: *Xá»­ lÃ½ má»™t lá»‡nh cÆ¡ báº£n*
- **Check price**: *Xá»­ lÃ½ má»™t lá»‡nh kÃ¨m --flag*
- **Place order**: *Xá»­ lÃ½ má»™t lá»‡nh láº¥y giÃ¡ trá»‹ Ä‘áº§u vÃ o ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c*

ğŸ”— &nbsp;&nbsp;**Restructure - Expand**: *TÃ¡i cáº¥u trÃºc; style, format láº¡i cho xinhh =='*

<br/>

*Giá» thÃ¬ Ä‘i vÃ o bÆ°á»›c Ä‘áº§u tiÃªn! (go)(go)*

## â–  Init

Sau khi cÃ i Ä‘áº·t mÃ´i trÆ°á»ng [`NodeJS`](https://nodejs.org/en/) *(mÃ¬nh Ä‘ang dÃ¹ng `v18.1.0`)*, chÃºng ta tiáº¿n hÃ nh khá»Ÿi táº¡o dá»± Ã¡n:

```js:Terminal
$ mkdir binance  // táº¡o thÆ° má»¥c ğŸ§Š binance-cli

$ cd binance     // di chuyá»ƒn vÃ o ğŸ§Š binance-cli

$ npm init -y    // Táº¡o ğŸ“„ package.json - quáº£n lÃ½ packages vÃ  thÃ´ng tin dá»± Ã¡n
```

Táº¡o `ğŸ“‹ index.js` - chá»©a cÃ¡c  `script` xá»­ lÃ½ `logic` mÃ  lÃ¡t ná»¯a chÃºng ta sáº½ viáº¿t vÃ o, cáº¥u trÃºc thÆ° má»¥c hiá»‡n táº¡i nhÆ° sau:

```cmd
ğŸ§Š binance
          |____ ğŸ“„ package.json
          |____ ğŸ“‹ index.js
```

Táº¡m thá»i `log` thá»­ dÃ²ng `text` trong nÃ y nha:

```js:ğŸ“‹index.js
console.log('Make It Awesome!');
```

Tiáº¿p theo, thÃªm `02 properties` vÃ o `ğŸ“„ package.json`:

```js:ğŸ“„package.json
{
    "type": "module",
    "bin": {
        "binance": "index.js"
    },
    ...
}
```
 Trong Ä‘Ã³:
- **`"type": "module"`**: Há»— trá»£ viá»‡c sá»­ dá»¥ng `JavaScript modules`
- **`"bin"`**: nháº­n vÃ o má»™t `object` cÃ³:
    - **`property`**: tÃªn dÃ¹ng Ä‘á»ƒ gÃµ lá»‡nh qua `Command line`, trÆ°á»ng há»£p nÃ y lÃ  `"binance"`
    - **`value`**: Ä‘á»‹a chá»‰ trá» tá»›i `script` mÃ  mÃ¬nh muá»‘n liÃªn káº¿t vá»›i lá»‡nh, trÆ°á»ng há»£p nÃ y lÃ  `"index.js"`

*(Báº¡n cÃ³ thá»ƒ Ä‘á»c thÃ´ng tin chi tiáº¿t táº¡i [NPMJS Document](https://docs.npmjs.com/cli/v7/configuring-npm/package-json#bin) náº¿u muá»‘n tÃ¬m hiá»ƒu thÃªm nhÃ©)*

Vá»›i mong muá»‘n dÃ¹ng `Binance CLI`á»Ÿ báº¥t cá»© chá»— nÃ o khi má»Ÿ `Terminal`, chÃºng ta tiáº¿n hÃ nh cÃ i Ä‘áº·t:
```js:Terminal
$ npm i -g . // lá»‡nh nÃ y cháº¡y trong thÆ° má»¥c ğŸ§Š  binance nha
```

Khi cÃ i Ä‘áº·t má»™t `package`, `npm` sáº½ thÃªm `bin[property]`*(trong trÆ°á»ng há»£p nÃ y lÃ  `"binance"`)* vÃ o `$PATH variable` trÃªn mÃ¡y tÃ­nh, tá»« Ä‘Ã³ mÃ  mÃ¬nh cÃ³ thá»ƒ dÃ¹ng lá»‡nh `"binance"` trÃªn `Terminal`.

Kiá»ƒm tra thá»­ xem ra cÆ¡m chÃ¡o gÃ¬ chÆ°a nÃ o:
```js:Terminal
$ binance
// Expect: "Make It Awesome!"
// Result: Command not found
```

*Hmm...*

**(?) CÃ i Ä‘áº·t thÃ nh cÃ´ng rá»“i? Sao váº«n *"Command not found"* nhá»‰?**

![](https://i.imgur.com/Ea2un0C.gif)

CÃ¹ng nhÃ¬n láº¡i bá»©c tranh tá»•ng thá»ƒ má»™t chÃºt nhÃ©:
> Khi chÃºng ta gÃµ má»™t dÃ²ng lá»‡nh trÃªn `Terminal` - cÃ³ thá»ƒ lÃ  `Bash shell` hoáº·c `Zsh shell` - `script` tÆ°Æ¡ng á»©ng cá»§a dÃ²ng lá»‡nh Ä‘Ã³ sáº½ Ä‘Æ°á»£c má»™t-trÃ¬nh-thÃ´ng-dá»‹ch *(`interpreter`)* thá»±c thi.
 
Váº­y váº¥n Ä‘á» phÃ¡t sinh lÃ : **LÃ m sao`Terminal` biáº¿t trÃ¬nh thÃ´ng dá»‹ch nÃ o cáº§n dÃ¹ng Ä‘á»ƒ Ä‘á»c `script` Ä‘Ã³ !?!**

Äáº¿n Ä‘Ã¢y thÃ¬ **[`Shebang line`](https://stackoverflow.com/questions/33509816/what-exactly-does-usr-bin-env-node-do-at-the-beginning-of-node-files/33510581#33510581)** sinh ra cho `Terminal` "bá»›t khá»• tÃ¢m" nÃ¨ ğŸ˜¹ğŸ˜¹))

Ngáº¯n gá»n thÃ¬ `Shebang line` - *má»™t bá»™ kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰ Ä‘áº¡o há»‡ thá»‘ng sá»­ dá»¥ng trÃ¬nh thÃ´ng dá»‹ch* - cÃ³ dáº¡ng:
```
#!interpreter_path [optional-arg]
```
Trong Ä‘Ã³:
- `interpreter_path`: Ä‘Æ°á»ng dáº«n Ä‘áº¿n trÃ¬nh thÃ´ng dá»‹ch
- `[optional-arg]`: cÃ¡c thiáº¿t láº­p náº¿u cáº§n thiáº¿t, tÃ¹y thuá»™c vÃ o `interpreter`

CÃ³ má»™t sá»‘ cÃ¡c `shebang` máº·c Ä‘á»‹nh thÃ´ng dá»¥ng thÆ°á»ng dÃ¹ng cho cÃ¡c ngÃ´n ngá»¯, mÃ´i trÆ°á»ng khÃ¡c nhau. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta cáº§n `NodeJS`:

```js:ğŸ“‹index.js
#!/usr/bin/env node               // Äáº·t lÃªn trÃªn cÃ¹ng cá»§a file script
console.log('Make It Awesome!');
```

Giá» thÃ¬ cÃ i láº¡i rá»“i kiá»ƒm tra nÃ o:
```js:Terminal
$ binance
// Result: "Make It Awesome!"
```

*Bingooo!!! ğŸ™ŒğŸ™ŒğŸ™Œ*

<BR/>

Äá»ƒ hoÃ n thÃ nh bÆ°á»›c `Init`, chÃºng ta cÃ i Ä‘áº·t thÃªm má»™t sá»‘ `packages` cáº§n thiáº¿t:
```:Terminal
$ npm i commander ccxt inquirer prompt-confirm chalk figlet
```
 tÆ°Æ¡ng á»©ng vá»›i cÃ¡c má»¥c Ä‘Ã­ch dÆ°á»›i Ä‘Ã¢y:
 
| NPM Package | Description |
| -------- | -------- |
| **`commander`**     | *XÃ¢y dá»±ng command-line interfaces (CLI)*     |
| **`ccxt`**     | *Há»— trá»£  methods exchange coin/token trÃªn cÃ¡c markets (`Binance, Huobi, AscendEX, etc)* |
| **`inquirer`, `prompt-confirm`**     | *Láº¥y thÃ´ng tin Ä‘áº§u vÃ o cá»§a ngÆ°á»i dÃ¹ng khi tÆ°Æ¡ng tÃ¡c trÃªn CLI*     |
| **`chalk`, `figlet`**     | *Cho phÃ©p style, format text thu hÃºt hÆ¡n* |

<br/>

*Tiáº¿p theo, chÃºng ta tiáº¿n hÃ nh `config` cÃ¡c `command` cho `CLI` nhÃ©!*

## â–  Config

CÃº phÃ¡p khai bÃ¡o má»™t `CLI command`:

```js
import { Command } from 'commander';
const program = new Command();

program
    .command('NAME')                         // TÃªn
    .description('DESCRIPTION')              // MÃ´ táº£ chá»©c nÄƒng
    .option('--opt <OPTION>', 'DESCRIPTION') // CÃ¡c --option, cÃ³ thá»ƒ nhiá»u hÆ¡n 01 option
    .action(callbackHandler)                 // ThÃªm hÃ m thá»±c thi
    .parse(process.argv);                    // Parse cÃ¡c arguments Ä‘Æ°á»£c truyá»n vÃ o script
```

Ãp dá»¥ng vÃ o `Binance CLI` cá»§a chÃºng ta:

```js:index.js
// BINANCE BALANCE
program
    .command('balance')
    .description('Check your own balances')
    .action(getMyBalance)      // console.log('getMyBalance')

// BINANCE PRICE
program
    .command('price')
    .description('Check the coin/token price(s)')
    .option(
        '--ass <ASSET: COIN/TOKEN>',
        'Set a specific coin/token'
    )
    .option(
        '--cur <CURRENCY>',
        'Set a specific base currency'
    )
    .action(getPriceInMarket)  // console.log('getPriceInMarket')

// BINANCE ORDER
program
    .command('order')
    .description('Place a buy/sell order')
    .action(placeAnOrder)     // console.log('placeAnOrder')

program.parse(process.argv);
```

Kiá»ƒm tra láº¡i qua dÃ²ng lá»‡nh:
```js:Terminal
$ binance balance // Result: getMyBalance
$ binance price   // Result: getPriceInMarket
$ binance order   // Result: placeAnOrder
```

*rá»“i qua xá»­ lÃ½ nghiá»‡p vá»¥ trÃªn `Binance` nha!* *(go)* *(go)*

![](https://i.imgur.com/Sine3vb.gif)

## â–  Features

Äá»ƒ sá»­ dá»¥ng `Binance APIs` cho viá»‡c kiá»ƒm tra ngÃ¢n sÃ¡ch cÃ¡ nhÃ¢n vÃ  Ä‘áº·t lá»‡nh cho `coin/token(s)` trÃªn sÃ n, chÃºng ta cáº§n cÃ³ `API KEY` vÃ  `Secret KEY`.

Báº¡n cÃ³ thá»ƒ láº¥y táº¡i [API Management](https://www.binance.com/vi/my/settings/api-management) sau khi Ä‘Äƒng nháº­p vÃ o [Binance](https://www.binance.com/vi).

Song, trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, viá»‡c sá»­ dá»¥ng `API KEY` vÃ  `Secret KEY` tÆ°Æ¡ng á»©ng vá»›i tÃ i khoáº£n tháº­t -  thÃ¬ quáº£ lÃ  má»™t bá»™ mÃ´n nguy hiá»ƒm, ráº¥t lÃ  rá»§i ro Ä‘Ãºng khÃ´ng nÃ o ğŸ™€ğŸ™€  =))) 

ChÃº `CZ nhÃ  Binance` hiá»ƒu Ä‘iá»u Ä‘Ã³ nÃªn cÅ©ng táº¡o Ä‘iá»u kiá»‡n láº¯m =))) báº¡n cÃ³ thá»ƒ láº¥y cáº·p `API KEY` vÃ  `Secret KEY` nÃ y á»©ng vá»›i má»™t tÃ i khoáº£n "áº£o" trÃªn [Spot Test Network](https://testnet.binance.vision/) báº±ng cÃ¡ch:
 
 ```
 Log In with GitHub > Generate HMAC_SHA256 Keys
 ```

*Btw, thÃ´ng tin ngÃ¢n sÃ¡ch tÃ i khoáº£n trong chiáº¿c gif demo phÃ­a trÃªn bÃ i viáº¿t, mÃ¬nh cÅ©ng dÃ¹ng tÃ i khoáº£n áº£o nha =)))*

`Keys` Ä‘Ã£ cÃ³, tá»›i Ä‘Ã¢y thÃ¬ cÃ³ thá»ƒ gá»i cÃ¡c `API endpoints` tÆ°Æ¡ng á»©ng qua [`Binance API`](#)hoáº·c sá»­ dá»¥ng `cctx package` rá»“i.

Trong bÃ i viáº¿t nÃ y, chÃºng ta dÃ¹ng `cctx`:
```js
import ccxt from 'ccxt';

const binanceExchange = new ccxt.binance({
  apiKey: YOUR_API_KEY,     // Thay cáº·p keys
  secret: YOUR_SECRET_KEY,  // cá»§a báº¡n vÃ o Ä‘Ã¢y nhÃ©!
});

// KhÃ´ng cáº§n setSandboxMode náº¿u báº¡n dÃ¹ng cáº·p keys cho tÃ i-khoáº£n-tháº­t trÃªn Binance
binanceExchange.setSandboxMode(true); 
```

Vá»›i cÃ¡c `callbackHanler` cho tá»«ng chá»©c nÄƒng tÆ°Æ¡ng á»©ng, chÃºng ta viáº¿t dáº¡ng:

```js
const callbackHanler = async () => {
  try {
    const response = await binanceExchange.callFeatureMethod(); // (1)

    const result = transformFormat(response);                   // (2)
    console.log(result);

  } catch (err) {
    console.error(chalk.red.bold(`ERROR: ${err.message}`));
  };
};
```

Trong Ä‘Ã³:
- **(1) HÃ m `binanceExchange.callFeatureMethod()`**:
  - Tuá»³ vÃ o tá»«ng nghiá»‡p vá»¥ mÃ  chÃºng ta sáº½ gá»i qua cÃ¡c method tÆ°Æ¡ng á»©ng, báº¡n cÃ³ thá»ƒ xem qua cÃ¡c methods táº¡i [CCTX document](https://docs.ccxt.com/en/latest/manual.html).
  - TrÆ°á»ng há»£p khÃ´ng muá»‘n dÃ¹ng thÆ° viá»‡n `cctx`, Ä‘oáº¡n nÃ y báº¡n gá»i tháº³ng qua `endpoint` cá»§a `Binance API` cÅ©ng Ä‘Æ°á»£c luÃ´n nhÃ©, `Binance Document` Ä‘Æ°á»£c viáº¿t ráº¥t chi tiáº¿t [táº¡i Ä‘Ã¢y](https://binance-docs.github.io/apidocs/spot/en/#api-library).
- **(2) HÃ m `transformFormat()`**:
  - **Äáº§u vÃ o**: *`response`, káº¿t quáº£ `API` tráº£ vá»*
  - **Äáº§u ra**: *`result`, káº¿t quáº£ mong muá»‘n `log` ra `Terminal`*
  - **Logic**: *biáº¿n Ä‘á»•i `response` thÃ nh `result` nhÆ° Ã½, mÃ¬nh sáº½ comment ngáº¯n gá»n má»¥c Ä‘Ã­ch bÃªn cáº¡nh, chi tiáº¿t vá» cÃ¡c xá»­ lÃ½ `JavaScript`, báº¡n tham kháº£o trong `source code` á»Ÿ cuá»‘i bÃ i nhÃ©!*

<br/>

![](https://i.imgur.com/EyKhEI3.gif)

*Äiá»ƒm qua 03 má»¥c tiáº¿p theo Ä‘á»ƒ Ä‘i vÃ o tá»«ng chá»©c nÄƒng chi tiáº¿t:*

### Get balance | Basic command

Láº¥y thÃ´ng tin tÃ i khoáº£n nÃ o:

```js
const getMyBalance = async () => {
  try {
    const { info: { balances } } = await binanceExchange.fetchBalance();
    // Chá»‰ láº¥y nhá»¯ng Ä‘á»“ng cÃ³ sá»‘ lÆ°á»£ng > 0
    const displayCryptos = transformBalance(balances);
    console.table(displayCryptos);

  } catch (err) { ... };
};
```

### Check price | Command with --flag
ChÃºng ta cÃ³ 2 lá»‡nh xem giÃ¡:
```js
$ binance price                       // Xem giÃ¡ cÃ¡c Ä‘á»“ng coin/tokens
$ binance price --ass BTC --cur USDT  // Xem giÃ¡ 1 Ä‘á»“ng coin/token cá»¥ thá»ƒ (BTC/USDT)
```

HÃ m `getPriceInMarket`:
```js
const getPriceInMarket = (options) => {
    console.log(options);
}
```
láº¥y giÃ¡ trá»‹ cÃ¡c flag `--ass`, `--cur` thÃ´ng qua param Ä‘áº§u vÃ o:
```js
const { ass, cur } = options;  
```

VÃ¬ váº­y, `logic` chá»— nÃ y lÃ : 

```js
const getPriceInMarket = ({
  ass,
  cur = 'USDT',
}) => {
  if (!ass) {
    fetchTickersAPI();               // Xem giÃ¡ cÃ¡c Ä‘á»“ng coin/tokens
    return;
  };
  
  const symbol = `${ass}/${cur}`;
  fetchASpecificTickerAPI(symbol);  // Xem giÃ¡ 1 Ä‘á»“ng coin/token cá»¥ thá»ƒ (BTC/USDT)
};
```

TÆ°Æ¡ng tá»± nhÆ° `getMyBalance()`, 02 hÃ m `fetchTickersAPI()`, `fetchASpecificTickerAPI(symbol)` láº§n lÆ°á»£t gá»i qua `binanceExchange.fetchTickers()`, `binanceExchange.fetchTicker(symbol)` vÃ  hiá»ƒn thá»‹ káº¿t quáº£ tÆ°Æ¡ng á»©ng ra `Terminal` nha ^^

![](https://i.imgur.com/H9DnGwO.gif)

### Place order | Interactive Command

Äá»ƒ Ä‘áº·t lá»‡nh mua/bÃ¡n, luá»“ng `logic` lÃ  sau `command line`:
```
$ binance order
```
chÃºng ta sáº½ báº¯t Ä‘áº§u há»i ngÆ°á»i dÃ¹ng thÃ´ng tin `order`: *loáº¡i tiá»n crypto muá»‘n Ä‘áº·t; lá»‡nh mua hay lá»‡nh bÃ¡n; sá»‘ lÆ°á»£ng bao nhiÃªu,...*. Sau Ä‘Ã³ xÃ¡c nháº­n láº¡i thÃ´ng tin vÃ  tiáº¿n hÃ nh Ä‘áº·t lá»‡nh thÃ´ng qua cÃ¡c giÃ¡ trá»‹ Ä‘áº§u vÃ o. 

Äáº§u tiÃªn, khai bÃ¡o má»™t máº£ng cÃ¡c cÃ¢u há»i cáº§n thiáº¿t:
```js
const questions = [
    {
        name: 'asset',
        type: 'input',
        message: 'Which coin/token do you wanna place?(required)',
        validate: (asset) => !!asset,
        filter: (type) => type.toUpperCase(),
    },
        {
            name: 'currency',
            type: 'input',
            message: 'Which currency is based? (Default: USDT)',
            default: 'USDT',
        },
        {
             name: 'side',
             type: 'list',
             message: 'Which is order type?',
             choices: ['Buy', 'Sell'],
             default: 'Buy',
             filter: (type) => type.toLowerCase(),
        },
        {
              name: 'quantity',
              type: 'number',
              message: 'How quantity? (required float)',
              filter: (quantity) => (parseFloat(quantity) || ''),
              validate: (quantity) => (quantity > 0),
        },
];
```

`Inquirer` lÃ  `package` há»— trá»£ háº§u háº¿t cÃ¡c kiá»ƒu tÆ°Æ¡ng tÃ¡c Ä‘áº§u vÃ o kÃ¨m cÃ¡c há»— trá»£ *validate, transform,...* Ä‘a dáº¡ng, báº¡n cÃ³ thá»ƒ Ä‘á»c thÃªm cÃ¡ch dÃ¹ng [táº¡i Ä‘Ã¢y](https://www.npmjs.com/package/inquirer) nhÃ©. 

CÃ¹ng viáº¿t hÃ m xá»­ lÃ½:
```js
import inquirer from 'inquirer';
import Confirm from 'prompt-confirm';

const placeAnOrder = () => {
    inquirer
        .prompt(questions)
        .then((answers) => {
            const confirm = new Confirm('Are you sure to place this market order?');
            confirm.ask((isConfirm) => {
                    if (isConfirm) placeAnMarketOrderAPI(answers);
            });
        })
        .catch((err) => { ... });
};
```

CÃ³ Ä‘áº§u vÃ o há»£p lá»‡ rá»“i thÃ¬ cÃ²n cháº§n chá» gÃ¬ ná»¯a, Ä‘áº·t lá»‡nh thÃ´i:
```js
const placeAnMarketOrderAPI = async (answers) => {
    const { asset, currency, side, quantity } = answers;
    try {
        const orderResponse = await binanceExchange.createOrder(
            `${asset}/${currency}`,
            'market',
             side,
             quantity,
        );
        // ...
        console.info('SUCCESSFULLY! GOOD LUCK, "HODLER" :"> CHECK YOUR BALANCES AGAIN ^^');
  } catch (err) { ... };
};
```

*Yayyy, tá»›i Ä‘Ã¢y thÃ¬ Ä‘Ã£ cÆ¡ báº£n xong rá»“i nÃ¨, cÆ¡ mÃ  cÃ³ vÃ i Ä‘iá»u cÃ³ thá»ƒ cáº£i thiá»‡n thÃªm chÃºt, mÃ¬nh sáº½ liá»‡t kÃª á»Ÿ má»¥c dÆ°á»›i kÃ¨m cÃ¡c gá»£i Ã½ má»Ÿ rá»™ng chá»©c nÄƒng nhÃ©!*

![](https://i.imgur.com/ivPeI2s.gif)
# â–  Restructure - Expansion

#### Restructure:
- Chá»‰nh sá»­a `folder structure`, `file-splitting` theo cÃ¡ch cá»§a báº¡n sao cho trÃ´ng gá»n gÃ ng sáº¡ch sáº½ hÆ¡n chÃºt *(cÃ³ thá»ƒ chia theo cÃ¡c `module` chá»©c nÄƒng cháº³ng háº¡n ^^)*
- ThÃªm `styles`, `format` láº¡i cÃ¡c `text` Ä‘áº§u ra cho xinh, báº¡n cÃ³ thá»ƒ thá»­ vá»›i `chalk` nhÃ©; `font` thÃ¬ dÃ¹ng `figlet` =='
- *`Source code` cá»§a `Binance CLI` trong bÃ i viáº¿t nÃ y, báº¡n tham kháº£o táº¡i [Github](https://github.com/haolt/binance-cli).*

<BR/>

#### Expansion:
*NgoÃ i 03 chá»©c nÄƒng chÃ­nh trong bÃ i viáº¿t, cÃ¡c báº¡n cÃ³ thá»ƒ táº¡o má»›i hoáº·c phÃ¡t triá»ƒn thÃªm:*

- Kiá»ƒm tra thÃ´ng tin sá»‘ dÆ° trong *vÃ­ Spot, Funding, Earn,...*
- Xem cÃ¡c lá»‡nh Ä‘ang chá» khá»›p
- Váº½ biáº¿u Ä‘á»“ náº¿n cá»§a 1 Ä‘á»“ng nÃ o Ä‘Ã³
- Äáº·t lá»‡nh Ä‘a dáº¡ng hÆ¡n: *Market, Stop-Loss, Stop-Limit,...*
- ...

*rá»“i chia sáº» thÃ nh pháº©m phÃ­a dÆ°á»›i comments nha ^^*

# â–  Sumup

NhÆ° váº­y lÃ  chÃºng ta Ä‘Ã£ cÃ¹ng nhau hoÃ n thÃ nh chiáº¿c `Binance CLI` nhÃ  lÃ m rá»“i!!!

![](https://i.imgur.com/vgWz9KW.gif)

CÃ³ thá»ƒ nÃ³i, song song vá»›i `GUI`, `CLI` cÅ©ng cÃ³ ráº¥t nhiá»u cÃ¡i hay vÃ  cÃ³ thá»ƒ phá»¥c vá»¥ Ä‘Æ°á»£c Ä‘a dáº¡ng nhu cáº§u. Tá»« nhá»¯ng tÃ¡c vá»¥ cho nhá»¯ng cÃ´ng viá»‡c cÃ³ thá»ƒ ká»ƒ tá»›i nhÆ°:
- *Táº¡o `boilerplate` máº·c Ä‘á»‹nh cho dá»± Ã¡n má»›i*
- *Auto render ra `test files` kÃ¨m case máº·c Ä‘á»‹nh cho cÃ¡c `React components`*
- ...

cho Ä‘áº¿n nhá»¯ng nhu cáº§u cÃ¡ nhÃ¢n: *xem thá»i tiáº¿t, theo dÃµi lá»‹ch Ä‘áº¥u bÃ³ng,..*
Hoáº·c Ä‘Æ¡n giáº£n chá»‰ lÃ  mong muá»‘n biáº¿t thÃªm nhá»¯ng `behind the scenes` tá»« khi má»™t dÃ²ng lá»‡nh Ä‘Æ°á»£c gÃµ cho tá»›i lÃºc nÃ³ thá»±c thi xong. **RÃµ rÃ ng viá»‡c quan sÃ¡t ká»¹ lÆ°á»¡ng vÃ  tÃ¬m hiá»ƒu má»™t chÃºt vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a cÃ¡c cÃ´ng cá»¥ Ä‘Æ°á»£c sá»­ dá»¥ng luÃ´n lÃ  Ä‘iá»u tá»‘t Ä‘Ãºng khÃ´ng nÃ o ^^**

Hy vá»ng ráº±ng bÃ i viáº¿t nÃ y cÃ³ thá»ƒ giÃºp Ã­ch Ä‘Æ°á»£c cÃ¡c báº¡n. Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ Ä‘á»c bÃ i chia sáº» nÃ y. Láº¡i hay `30/04` vá»«a rá»“i lÃ  sinh nháº­t cá»§a mÃ¬nh :cake::cake:, **`"má»«ng tuá»•i má»›i" 1 upvote`** Ä‘á»ƒ mÃ¬nh cÃ³ thÃªm Ä‘á»™ng lá»±c cho nhá»¯ng bÃ i viáº¿t sáº¯p tá»›i nhÃ© ğŸ¥°  ğŸ¥°

![](https://images.viblo.asia/bcac0ae4-37b9-4f82-a75a-8dc9bbdd51ba.gif)

*ChÃºc cÃ¡c báº¡n ngÃ y lÃ m viá»‡c hiá»‡u quáº£! Tiá»‡n ghÃ© qua [nhÃ  mÃ¬nh](https://haodev.wordpress.com/) chÆ¡i má»™t chÃºt rá»“i vá»!*

# â–  Credits

- **Resources: [Zephyrnet](https://zephyrnet.com/build-a-javascript-command-line-interface-cli-with-node-js/?amp=1), [Cheatcode](https://cheatcode.co/tutorials/how-to-build-a-command-line-interface-cli-using-node-js), [Traversy Media](https://www.youtube.com/watch?v=-6OAHsde15E&t=2516s), [Chuyá»‡n cá»§a HÃ  Ná»™i](https://www.facebook.com/ChuyencuaHaNoi).**
- **Thumbnail: [Design via Canva](https://www.canva.com).**
- **Policies:**
    - [**This original article from My Make It Awesome blog**](https://haodev.wordpress.com/2022/05/12/du-dinh-bitcoin-voi-binance-cli-nha-lam/).
    - **Use my contents for sharing purpose, please attached resource linked to [my blog](https://haodev.wordpress.com/2022/05/12/du-dinh-bitcoin-voi-binance-cli-nha-lam/).**
    - **Use my contents for trading purpose, please [contact me](https://haodev.wordpress.com).**
    - **Support: [Buy me a pizza](https://www.buymeacoffee.com/haolt).**
- **Copyright:** **The posts in a spirit of sharing knowledge. If there is anything with regard to copyright of your contents, please [contact me](https://haodev.wordpress.com).**

<br/>


***Happy coding!***