> Custom view l√† m·ªôt trong nh·ªØng c√°ch ƒë·ªÉ bi·∫øn nh·ªØng l·∫≠p tr√¨nh vi√™n kh√¥ khan tr·ªü th√†nh nh·ªØng ng∆∞·ªùi ho·∫° sƒ©

Khi b·∫°n c·∫ßn t·∫°o m·ªôt s·ªë t√πy ch·ªânh v√† s·ª≠ d·ª•ng l·∫°i c√°c View ƒë√≥ khi n√≥ kh√¥ng ƒë∆∞·ª£c cung c·∫•p b·ªüi Android Ecosystem.  Custom View c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng nh∆∞ c√°c Widget c√≥ s·∫µn nh∆∞ TextView, EditText, v.v. Trong blog n√†y, ch√∫ng ta s·∫Ω n√≥i v·ªÅ kh√≠a c·∫°nh c√°ch ch√∫ng ta c√≥ th·ªÉ t·∫°o Custom view c·ªßa ri√™ng m√¨nh. Custom view c√≥ m·ªôt s·ªë lo·∫°i d∆∞·ªõi ƒë√¢y: 

* Custom View: N∆°i ch√∫ng ta c√≥ th·ªÉ tho·∫£ s·ª©c s√°ng t·∫°o
* Custom View Groups: N∆°i ch√∫ng ta s·ª≠ d·ª•ng nh·ªØng widget hi·ªán c√≥ ƒë·ªÉ t·∫°o ra nh·ªØng custom view

V·∫≠y tr∆∞·ªõc h·∫øt, t·∫°i sao ch√∫ng ta c·∫ßn Custom View :thinking:

Trong lƒ©nh v·ª±c l√†m Outsource hay Product th√¨ vi·ªác Custom View l√† v√¥ c√πng quan tr·ªçng. Nh∆∞ Outsource th√¨ l√†m s·∫£n ph·∫©m m·ªôt c√°ch nhanh nh·∫•t ƒë·ªÉ ti·∫øt gi·∫£m chi ph√≠, v·∫≠y n√™n ta s·ª≠ d·ª•ng m·ªôt s·ªë UI library c√≥ License ph√π h·ª£p ƒë·ªÉ th√™m v√†o s·∫£n ph·∫©m, tuy nhi√™n th√¨ thi·∫øt k·∫ø c·ªßa kh√°ch h√†ng c√≥ th·ªÉ s·∫Ω kh√°c so v·ªõi library m√† ta ki·∫øm ƒë∆∞·ª£c. Ch√≠nh v√¨ th·∫ø ch√∫ng ta s·∫Ω d·ª±a v√†o library c√≥ s·∫µn ƒë√≥ r·ªìi m√¥ng m√° l·∫°i sao cho gi·ªëng thi·∫øt k·∫ø. C√≤n v·ªõi Product mu·ªën th√†nh c√¥ng, y·∫øu t·ªë UI c≈©ng ƒë√≥ng vai tr√≤ quan tr·ªçng kh√¥ng k√©m n·ªôi dung, y·∫øu t·ªë ƒë·ªôc v√† l·∫° c·ªßa designer l·∫°i c√†ng khi·∫øn cho vi·ªác Custom View quan tr·ªçng h∆°n bao gi·ªù h·∫øt :open_mouth:
Ngo√†i nh·ªØng ƒëi·ªÉm m·∫°nh k·ªÉ tr√™n, vi·ªác custom view c√≤n mang ƒë·∫øn m·ªôt hi·ªáu nƒÉng tuy·ªát v·ªùi cho ·ª©ng d·ª•ng c·ªßa b·∫°n :heart_eyes:

* Hi·ªáu nƒÉng. N·∫øu b·∫°n c√≥ nhi·ªÅu views trong layout th√¨ vi·ªác v·∫Ω custom view th√†nh m·ªôt single view s·∫Ω gi√∫p layout nh·∫π h∆°n v√† c·∫£i thi·ªán hi·ªáu nƒÉng c·ªßa app
* N·∫øu view c√≥ qu√° nhi·ªÅu t·∫ßng(hierachy) th√¨ s·∫Ω kh√≥ khi b·∫£o tr√¨ v√† c√†i ƒë·∫∑t. Custom view gi√∫p gi·∫£m t·∫£i vi·ªác th√™m ch·ªìng view kh√¥ng c·∫ßn thi·∫øt.


# V·∫≠y View l√† g√¨? :thinking: 
Nh∆∞ c√°c b·∫°n ƒë√£ bi·∫øt nh·ªØng widget m√† ch√∫ng ta hay th∆∞·ªùng d√πng nh∆∞ `TextView`, `EditText`, `Checkbox`,... T·∫•t c·∫£ nh·ªØng th·ª© ƒë√≥ d√π n√≥ ƒë∆∞·ª£c k·∫ø th·ª´a t·ª´ b·∫•t k·ª≥ lo·∫°i g√¨ ƒëi n·ªØa, th√¨ cu·ªëi c√πng v·∫´n l√† con ch√°u c·ªßa View. V√≠ d·ª• nh∆∞ `EditText` extends `TextView` r·ªìi th√¨ `TextView` extends `View`. Android ch·ªâ cung c·∫•p cho ch√∫ng ta nh·ªØng component c∆° b·∫£n, hay support c√°c UI theo ƒë·ªãnh d·∫°ng material design. Vi·ªác c·ªßa ch√∫ng ta l√† x√†o n·∫•u t·ª´ nh·ªØng nguy√™n li·ªáu c√≥ s·∫µn ƒë√≥ v√† cho l√™n nh·ªØng lib ƒë·∫πp m√™ h·ªìn ü§™

C≈©ng nh∆∞ Activity, Fragment, Service,... Th√¨ View c≈©ng c√≥ v√≤ng ƒë·ªùi c·ªßa n√≥.Nh∆∞ng kh√¥ng r√µ v√¨ l√Ω do g√¨ m√† Google kh√¥ng cung c·∫•p t√†i li·ªáu ch√≠nh th·ª©c v·ªÅ lifecycle c·ªßa view, vi·ªác n√†y c≈©ng g√¢y ra kh√¥ng √≠t hi·ªÉu l·∫ßm gi·ªØa c√°c developer v√† ƒëi·ªÅu ƒë√≥ th∆∞·ªùng g√¢y ra c√°c v·∫•n ƒë·ªÅ v·ªÅ l·ªói.

## Lifecycle
![lifecycle of view](https://images.viblo.asia/616e4097-c494-42c9-8fd8-9f8377319337.png)

### Constructor

T·∫•t c·∫£ view ƒë·ªÅu b·∫Øt ƒë·∫ßu v√≤ng ƒë·ªùi c·ªßa n√≥ t·ª´ m·ªôt constructor. Constructor l√† n∆°i ch√∫ng ta khai b√°o v√† cung c·∫•p nh∆∞ng th·ª© c·∫ßn thi·∫øt cho vi·ªác v·∫Ω : thi·∫øt l·∫≠p c√°c gi√° tr·ªã kh·ªüi ƒë·∫ßu, c√°c tham s·ªë m·∫∑c ƒë·ªãnh, gi√° tr·ªã t√≠nh to√°n v..v..

* `View(Context context)` constructor n√†y s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng khi m√† ch√∫ng ta add view l√∫c code.
* `View(Context context, AttributeSet attrs)` constructor n√†y s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng khi ch√∫ng ta khai b√°o view trong XML (file layout xml, attrs ch·ª©a c√°c attribute truy·ªÅn v√†o view trong xml).
* `View(Context context, AttributeSet attrs, int defStyleAttr)` c≈©ng d√πng trong XML nh∆∞ng th√™m 1 tham s·ªë ƒë√≥ l√† c√°c thu·ªôc t√≠nh style c·ªßa theme m·∫∑c ƒë·ªãnh.
* `View(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) ` nh∆∞ c√°i 3 nh∆∞ng c√≥ th√™m tham s·ªë ƒë·ªÉ truy·ªÅn style ri√™ng th√¥ng qua resource.

**Attributes**

·ªû ƒë√¢y ta s·∫Ω cung c·∫•p m·ªôt s·ªë thu·ªôc t√≠nh t√πy ch·ªânh cho nh√† ph√°t tri·ªÉn. Ta t·∫°o t·ªáp attrs.xml theo ƒë∆∞·ªùng d·∫´n res/values/attrs.xml v√† ƒë·ªãnh nghƒ©a c√°c thu·ªôc t√≠nh cho view trong th·∫ª <declare-styleable> nh∆∞ sau :
```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <declare-styleable name="RadialProgressBar">
        <!--outer view-->
        <attr name="outerProgress" format="integer"/>
        <attr name="outerProgressColor" format="color"/>
        <attr name="outerProgressStartAngle" format="integer"/>
        <attr name="outerMaxProgress" format="integer"/>
        <attr name="outerEmptyProgressColor" format="color"/>
        <!--center view-->
        <attr name="centerProgress" format="integer"/>
        <attr name="centerProgressColor" format="color"/>
        <attr name="centerProgressStartAngle" format="integer"/>
        <attr name="centerMaxProgress" format="integer"/>
        <attr name="centerEmptyProgressColor" format="color"/>


        <!--inner view-->
        <attr name="innerProgress" format="integer"/>
        <attr name="innerProgressColor" format="color"/>
        <attr name="innerProgressStartAngle" format="integer"/>
        <attr name="innerMaxProgress" format="integer"/>
        <attr name="innerEmptyProgressColor" format="color"/>


        <!-- Common Attrs-->
        <attr name="useRoundedCorner" format="boolean"/>
        <attr name="isAnimationOn" format="boolean"/>
        <attr name="hasElevation" format="boolean"/>
        <attr name="hasEmptyProgressBar" format="boolean"/>
        <attr name="hasOneProgressView" format="boolean"/>
        <attr name="hasTwoProgressView" format="boolean"/>
        <attr name="circleThickness" format="float"/>
        <attr name="circlePadding" format="float"/>
    </declare-styleable>
</resources>
```

**Note:**

- Khi khai b√°o c√°c attribute c·ªßa custom views. ƒê·ªÉ tr√°nh nh·∫ßm l·∫´n v√† conflict v·ªõi c√°c attribute name ƒë√£ c√≥ s·∫µn trong SDK. Ta th∆∞·ªùng ƒë·∫∑t th√™m m·ªôt prefix (th∆∞·ªùng l√† c√°c ch·ªØ c√°i ƒë·∫ßu c·ªßa custom view) ƒë·ªÉ d·ªÖ d√†ng cho vi·ªác t√¨m ki·∫øm.
- N·∫øu s·ª≠ d·ª•ng Android Studio, Lint s·∫Ω khuy√™n b·∫°n call recycle() khi ƒë√£ xong vi·ªác v·ªõi attribute. L√Ω do l√† ƒë·ªÉ b·ªè nh·ªØng r·∫±ng bu·ªôc kh√¥ng c·∫ßn thi·∫øt ƒë·∫øn v·ªõi c√°c d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng l·∫°i n·ªØa (V√¨ m·ª•c ƒë√≠ch c·ªßa ta ch·ªâ c·∫ßn l·∫•y ƒë∆∞·ª£c c√°c gi√° tr·ªã c·ªßa attribute).

Ti·∫øp theo, s·ª≠ d·ª•ng TypedArray ƒë·ªÉ l·∫•y c√°c gi√° tr·ªã thu·ªôc t√≠nh trong class v√† x√°c ƒë·ªãnh c√°c bi·∫øn m·∫´u

```
private fun parseAttributes(a: TypedArray) {
        mOuterProgress = a.getInteger(R.styleable.RadialProgressBar_outerProgress, mOuterProgress)
        mProgressColorOuterView = a.getColor(R.styleable.RadialProgressBar_outerProgressColor, mProgressColorOuterView)
        mInnerProgress = a.getInteger(R.styleable.RadialProgressBar_innerProgress, mInnerProgress)
        mProgressColorInnerView = a.getColor(R.styleable.RadialProgressBar_innerProgressColor, mProgressColorInnerView)
        mCenterProgress = a.getInteger(R.styleable.RadialProgressBar_centerProgress, mCenterProgress)
        mProgressColorCenterView =
            a.getColor(R.styleable.RadialProgressBar_centerProgressColor, mProgressColorCenterView)
        hasOneProgressView = a.getBoolean(R.styleable.RadialProgressBar_hasOneProgressView, hasOneProgressView)
        hasTwoProgressView = a.getBoolean(R.styleable.RadialProgressBar_hasTwoProgressView, hasTwoProgressView)
        mRoundedCorners = a.getBoolean(R.styleable.RadialProgressBar_useRoundedCorner, mRoundedCorners)
        isAnimationOn = a.getBoolean(R.styleable.RadialProgressBar_isAnimationOn, isAnimationOn)
        mStartAngleOuterView = a.getInteger(R.styleable.RadialProgressBar_outerProgressStartAngle, mStartAngleOuterView)
        mStartAngleCenterView =
            a.getInteger(R.styleable.RadialProgressBar_centerProgressStartAngle, mStartAngleCenterView)
        mStartAngleInnerView = a.getInteger(R.styleable.RadialProgressBar_innerProgressStartAngle, mStartAngleInnerView)
        mMaxProgressOuterView = a.getInteger(R.styleable.RadialProgressBar_outerMaxProgress, mMaxProgressOuterView)
        mMaxProgressInnerView = a.getInteger(R.styleable.RadialProgressBar_innerMaxProgress, mMaxProgressInnerView)
        mMaxProgressCenterView = a.getInteger(R.styleable.RadialProgressBar_centerMaxProgress, mMaxProgressCenterView)
        mElevation = a.getBoolean(R.styleable.RadialProgressBar_hasElevation, mElevation)
        mEmptyProgressBar = a.getBoolean(R.styleable.RadialProgressBar_hasEmptyProgressBar, mEmptyProgressBar)
        mEmptyProgressColorCenterView =
            a.getColor(R.styleable.RadialProgressBar_centerEmptyProgressColor, mEmptyProgressColorCenterView)
        mEmptyProgressColorOuterView =
            a.getColor(R.styleable.RadialProgressBar_outerEmptyProgressColor, mEmptyProgressColorOuterView)
        mEmptyProgressColorInnerView =
            a.getColor(R.styleable.RadialProgressBar_innerEmptyProgressColor, mEmptyProgressColorInnerView)
        mCircleThickness = a.getFloat(R.styleable.RadialProgressBar_circleThickness, mCircleThickness)
        mCirclePadding = a.getFloat(R.styleable.RadialProgressBar_circlePadding, mCirclePadding)
        a.recycle()
        hasElevation(mElevation)
        hasOneProgressView(hasOneProgressView)
        hasTwoProgressView(hasTwoProgressView)
        hasEmptyProgressBar(mEmptyProgressBar)
        setEmptyProgressColorCenterView(mEmptyProgressColorCenterView)
        setEmptyProgressColorOuterView(mEmptyProgressColorOuterView)
        setEmptyProgressColorInnerView(mEmptyProgressColorInnerView)
        setAnimationInProgressView(isAnimationOn)
        setMaxProgressOuterView(mMaxProgressOuterView)
        setMaxProgressInnerView(mMaxProgressInnerView)
        setMaxProgressCenterView(mMaxProgressCenterView)
        setOuterProgress(mOuterProgress)
        mOuterColor.add(mProgressColorOuterView)
        setOuterProgressColor(mOuterColor)
        setInnerProgress(mInnerProgress)
        mInnerColor.add(mProgressColorInnerView)
        setInnerProgressColor(mInnerColor)
        setCenterProgress(mCenterProgress)
        mCenterColor.add(mProgressColorCenterView)
        setCenterProgressColor(mCenterColor)
        useRoundedCorners(mRoundedCorners)
        setStartAngleCenterView(mStartAngleCenterView)
        setStartAngleInnerView(mStartAngleInnerView)
        setStartAngleOuterView(mStartAngleOuterView)
        setCircleThickness(mCircleThickness)
        setCirclePadding(mCirclePadding)

    }
```
### OnAttachedToWindow
Sau khi parent view g·ªçi `addView(View)` th√¨ custom view s·∫Ω ƒë∆∞·ª£c attach v√†o window. ·ªû giai ƒëo·∫°n n√†y, custom view s·∫Ω bi·∫øt ƒë∆∞·ª£c v·ªã tr√≠ c√°c view ·ªü xung quanh n√≥. L√∫c n√†y ta c√≥ th·ªÉ `findViewById` ƒë∆∞·ª£c v√† l∆∞u v√†o global reference (n·∫øu c·∫ßn).

### OnMeasure
L√∫c n√†y custom view ƒëang trong giai ƒëo·∫°n t√¨m ra k√≠ch th∆∞·ªõc(size) c·ªßa n√≥. ƒê√¢y l√† m·ªôt method quan tr·ªçng, trong h·∫ßu h·∫øt tr∆∞·ªùng h·ª£p ta th∆∞·ªùng ch·ªâ ƒë·ªãnh(ho·∫∑c c√≥ th·ªÉ can thi·ªáp thay ƒë·ªïi) k√≠ch th∆∞·ªõc c·ªßa custom view mong mu·ªën khi hi·ªÉn th·ªã tr√™n layout. Khi overriding method n√†y, c·∫ßn l∆∞u √Ω ƒë·∫øn method setMesuredDimension(int width, int height)

### OnLayout
·ªû ƒë√¢y th·ª±c hi·ªán vi·ªác ch·ªâ ƒë·ªãnh k√≠ch th∆∞·ªõc v√† v·ªã tr√≠ c√°c children view b√™n trong custom view.

### OnDraw
    
ƒê√¢y ch√≠nh l√† n∆°i b·∫°n th·ªÉ hi·ªán kh·∫£ nƒÉng v·∫Ω c·ªßa m√¨nh üòÑ ƒê·ªÉ v·∫Ω view, b·∫°n ph·∫£i @override l·∫°i ph∆∞∆°ng th·ª©conDraw(Canvas canvas). Tr∆∞·ªõc ƒë√≥, b·∫°n c·∫ßn ph·∫£i bi·∫øt d√πng g√¨ ƒë·ªÉ v·∫Ω v√† v·∫Ω nh∆∞ th·∫ø n√†o ch·ª© ? Android cung c·∫•p 2 l·ªõp ƒë·ªÉ l√†m vi·ªác n√†y ƒë√≥ l√† Canvas v√† Paint. Tr∆∞·ªõc khi s·ª≠ d·ª•ng canvas ƒë·ªÉ v·∫Ω, b·∫°n c·∫ßn ph·∫£i t·∫°o m·ªôt ƒë·ªëi t∆∞·ª£ng Paint. ƒê·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng, vi·ªác t·∫°o ra ƒë·ªëi t∆∞·ª£ng Paint tr∆∞·ªõc l√† kh√° quan tr·ªçng, b·ªüi v√¨ ph∆∞∆°ng th·ª©c onDraw() ƒë∆∞·ª£c g·ªçi b·∫•t c·ª© khi n√†o c·∫ßn v·∫Ω l·∫°i. V√¨ v·∫≠y ta kh√¥ng t·∫°o ƒë·ªëi t∆∞·ª£ng Paint b√™n trong h√†m onDraw().
Canvas instance ƒë∆∞·ª£c n·∫±m trong parameter c·ªßa onDraw, n√≥ ƒë∆°n gi·∫£n l√† ƒë·ªÉ v·∫Ω c√°c h√¨nh kh√°c nhau, c√≤n Paint object s·∫Ω ch·ªâ ƒë·ªãnh m√†u s·∫Øc (chung h∆°n l√† style) c·ªßa h√¨nh ƒë√≥. N√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng h·∫ßu nh∆∞ m·ªçi n∆°i ƒë·ªÖ v·∫Ω b·∫•t k√¨ m·ªôt ƒë∆∞·ªùng th·∫±ng, h√¨nh vu√¥ng, tr√≤n hay b·∫•t c·ª© h√¨nh g√¨‚Ä¶

    > Kh√¥ng n√™n kh·ªüi t·∫°o c√°c ƒë·ªëi t∆∞·ª£ng b√™n trong onDraw()
    
Khi v·∫Ω custom view, ta c·∫ßn ghi nh·ªõ m·ªôt ƒëi·ªÅu r·∫±ng onDraw s·∫Ω ƒë∆∞·ª£c g·ªçi r·∫•t nhi·ªÅu l·∫ßn. Khi c√≥ b·∫•t k√¨ s·ª± thay ƒë·ªïi n√†o, khi ta vu·ªët hay k√©o ngang m√†n h√¨nh ‚Ä¶ view s·∫Ω ƒë∆∞·ª£c v·∫Ω l·∫°i. Ch√≠nh v√¨ v·∫≠y m√† Android Studio khuy√™n r·∫±ng n√™n tr√°nh khai b√°o kh·ªüi t·∫°o Object trong method n√†y m√† thay v√†o ƒë√≥ n√™n t·∫°o m·ªõi ·ªü ch·ªó kh√°c v√† g·ªçi s·ª≠ d·ª•ng n√≥.
    
    **ViewUpdate** Nh√¨n v√†o View lifecycle b·∫°n s·∫Ω th·∫•y 2 method ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·ª± n√≥ th·ª±c hi·ªán vi·ªác v·∫Ω l·∫°i : `invalidate()` v√† `requestLayout()` gi√∫p b·∫°n t∆∞∆°ng t√°c qua l·∫°i v·ªõi custom view, b·∫°n ho√†n to√†n c√≥ th·ªÉ thay ƒë·ªïi view khi ƒëang runtime. Nh∆∞ng t·∫°i s·∫°o l·∫°i c√≥ t·∫≠n 2 method ?

`invalidate()` s·ª≠ d·ª•ng ƒë∆∞·ª£c v·∫Ω l·∫°i c√°c view ƒë∆°n gi·∫£n. V√≠ d·ª• khi b·∫°n update l·∫°i text, color hay t∆∞∆°ng t√°c ch·∫°m ƒëi·ªÉm. C√≥ nghƒ©a l√† view ch·ªâ c·∫ßn ƒë∆°n gi·∫£n g·ªçi onDraw() ƒë·ªÉ update l·∫°i tr·∫°ng th√°i c·ªßa view.
`requestLayout()` nh∆∞ b·∫°n th·∫•y trong s∆° ƒë·ªì lifecycle th√¨ method n√†y s·∫Ω g·ªçi l·∫°i view update t·ª´ onMeasure(). ƒêi·ªÅu ƒë√≥ c√≥ nghƒ©a l√† vi·ªác th·ª±c hi·ªán v·∫Ω l·∫°i view s·∫Ω ƒë∆∞·ª£c t√≠nh to√°n l·∫°i k√≠ch th∆∞·ªõc. K√≠ch th∆∞·ªõc m·ªõi c√≥ th·ªÉ ƒë∆∞·ª£c t√≠nh l·∫°i ·ªü onMeasure v·∫Ω s·∫Ω th·ª±c hi·ªán v·∫Ω theo k√≠ch th∆∞·ªõc m·ªõi ƒë√≥.
    
### Animation
    
Animation trong custom view l√† qu√° tr√¨nh x·ª≠ l√≠ c√°c frame li√™n ti·∫øp. C√≥ nghƒ©a l√† khi b·∫°n mu·ªën t·∫°o m·ªôt v√≤ng tr√≤n c√≥ b√°n k√≠nh di chuy·ªÉn t·ª´ nh·ªè ƒë·∫øn l·ªõn ƒë·ªÉ t·∫°o ra h√¨nh tr√≤n thay ƒë·ªïi to nh·ªè. ·ªû t·ª´ng b∆∞·ªõc b·∫°n c·∫ßn tƒÉng gi√° tr·ªã b√°n k√≠nh l√™n v√† g·ªçi invalidate() ƒë·ªÉ v·∫Ω view m·ªõi.

ƒê·ªÉ l√†m animation custom view, ta c√≥ class ValueAnimator. Class n√†y gi√∫p ta thi·∫øt l·∫≠p animation c·ªßa view t·ª´ l√∫c b·∫Øt ƒë·∫ßu v√† k·∫øt th√∫c, ngo√†i ra c√≥ c√≤n h·ªó tr·ª£ Interpolator (style animation c√≥ s·∫µn).
    
```
fun setOuterProgress(progress: Int) {
        if (progress != 0) mOuterProgress = progress
        val animator =
            ValueAnimator.ofFloat(mSweepAngleOuterView.toFloat(), calcSweepAngleFromOuterProgress(mOuterProgress))
        animator.removeAllUpdateListeners()
        animator.interpolator = DecelerateInterpolator()
        animator.duration = mAnimationDurationOuterView.toLong()
        animator.addUpdateListener { valueAnimator ->
            val value: Float = valueAnimator.animatedValue as Float
            mSweepAngleOuterView = (value.toInt())
            invalidate()
        }
        animator.start()

    }
```
    
> ƒê·ª©ng qu√™n g·ªçi invalidate() m·ªói khi set gi√° tr·ªã animation m·ªõi.

## Summary
    
Tr√™n ƒë√¢y l√† m·ªôt s·ªë chia s·∫ª c·ªßa m√¨nh v·ªÅ m·ªôt s·ªë c√°ch custom view trong Android :heart_eyes: C·∫£m ∆°n m·ªçi ng∆∞·ªùi ƒë√£ theo d√µi