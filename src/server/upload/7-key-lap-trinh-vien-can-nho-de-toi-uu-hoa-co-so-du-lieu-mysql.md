![](https://images.viblo.asia/6f2d5823-5d73-4cb4-8af8-15e6ae9cf2e2.png)

Má»™t ngÃ y Ä‘áº¹p trá»i app hay pháº§n má»m cá»§a báº¡n phá»• biáº¿n vá»›i cÃ´ng chÃºng. HÃ ng triá»‡u record xuáº¥t hiá»‡n trong DB, mÃ¡y chá»§ thÃ¬ luÃ´n cháº¡y 100% cpu, khÃ¡ch hÃ ng la Ã³ vÃ¬ sao ngÃ y cÃ ng cháº­m váº­y. LÃ m sao cho nÃ³ nhanh hÆ¡n khi pháº£i lÆ°u lÆ°á»£ng data khá»•ng lá»“. Vá» cÆ¡ báº£n dev nÃ o cÅ©ng sáº½ nghÄ© Ä‘áº¿n Ä‘áº¿n máº¥y thá»© nhÆ° sql server, oracle, mongodb, vv.. nhÆ°ng vá» báº£n cháº¥t chÃºng cÅ©ng ko lÃ m cho pháº§n má»m cá»§a báº¡n nhanh hÆ¡n. Nhá»¯ng thá»© nhÆ° mysql, sql server, db2 Ä‘á»u Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« 1 core huyá»n thoáº¡i. Má»™t thá»i gian dÃ i ngÃ¢m cá»©u thÃ¬ mÃ¬nh tháº¥y tá»‘t nháº¥t lÃ  há»c cÃ¡ch tá»‘i Æ°u cÃ¡i hiá»‡n cÃ³, thay Ä‘á»•i chá»© ko pháº£i lÃ  Ä‘áº­p Ä‘i xÃ¢y láº¡i Ä‘á»ƒ chá»‰ lÃ m ra 1 pháº§n má»m ngang pháº§n má»m cÅ©. CÃ³ vÃ i cÃ¡i key kiáº¿n thá»©c sau cÃ³ thá»ƒ giÃºp láº­p trÃ¬nh viÃªn pro hÆ¡n khi xÃ i cÃ¡c loáº¡i sql:
1. **bool vÃ  enum** luÃ´n lÃ  lá»±a chá»n tá»“i vÃ¬ khÃ´ng thá»ƒ index, nguyÃªn nhÃ¢n bá»Ÿi cÃ¡ch nÃ³ lÆ°u data. XÃ i tinyint lÃ  chÃ¢n lÃ½.
2.  **Nullable** ko bao giá» tá»‘t cho tÃ¬m kiáº¿m, cho column giÃ¡ trá»‹ default nhÃ©. CÃ¡i  nullable thÃ¬ mÃ¬nh cÅ©ng hay xÃ i nhiá»u vÃ¬ nhanh vÃ  lÆ°á»i migrate data ğŸ˜Š
3.  **Single index vÃ  composite index** tá»©c lÃ  Ä‘Ã¡nh index riÃªng tá»«ng cá»™t má»™t vÃ  index theo 1 nhÃ³m cá»™t thÃ¬ cÃ¡c báº¡n nÃªn xÃ i single, Ä‘Æ¡n giáº£n khi thay Ä‘á»•i code hÆ¡n. Composite chá»‰ phÃ¹ há»£p vá»›i nhÃ³m cá»™t chá»©a nhá»¯ng dá»¯ liá»‡u mÃ  chá»‰ cÃ³ vÃ i giÃ¡ trá»‹.
4.  **Index tháº¿ nÃ o gá»i lÃ  hiá»‡u quáº£**, cÃ³ 1 cÃ´ng thá»©c tháº¿ nÃ y:sá»‘ báº£n ghi áº£nh hÆ°á»Ÿng select distinct vá»›i Ä‘iá»u kiá»‡n tÃ¬m kiáº¿m cá»§a báº¡n/sá»‘ báº£n ghi áº£nh hÆ°á»Ÿng select cá»§a báº¡n > 17 % thÃ¬ index Ä‘Æ°á»£c coi lÃ  hiá»‡u quáº£. Táº¡i sao thÃ¬ máº¥y bá»“ há»i tÃ¡c giáº£ cá»§a mysql nha ğŸ˜­
5.  **Index chá»‰ thá»±c sá»± máº¡nh máº½ vá»›i khoáº£ng 35 kÃ½ tá»±,** náº¿u cÃ³ 1 cÃ¡i tÃªn dÃ i 200 kÃ½ tá»± thÃ¬ cÃ¡c báº¡n nÃªn Ä‘Ã¡nh index 35 kÃ½ tá»± Ä‘áº§u tiÃªn thÃ´i nhÃ©. Táº¡i sao há»i tháº±ng táº¡o ra SQL
6.  **Inverted Index**: Khi cáº§n lÆ°u 1 lÆ°á»£ng bÃ i viáº¿t lá»›n khoáº£ng vÃ i trÄƒm triá»‡u cháº³ng háº¡n. Muá»‘n tÃ¬m kiáº¿m nhanh thÃ¬ hÃ£y xÃ i ká»¹ thuáº­t Inverted Index:Parse tá»«ng dÃ²ng cá»§a bÃ i viáº¿t hoáº·c nhá»¯ng chuá»—i cÃ³ Ä‘á»™ dÃ i khoáº£ng 35 kÃ½ tá»±, lÆ°u vÃ o 1 báº£ng, cÃ³ thá»ƒ lÆ°u index Ä‘c, gáº¯n post_id chuá»—i Ä‘Ã³  link Ä‘áº¿n bÃ i viáº¿t nhÃ©. Search bÃ¬nh thÆ°á»ng trÃªn báº£ng má»›i, dá»±a vÃ o vá»‹ trÃ­ cá»§a chuá»—i Ä‘Ã£ parse ra cÃ³ thá»ƒ bÃ´i vÃ ng Ä‘c káº¿t quáº£ tÃ¬m kiáº¿m.
7.  **XÃ i RDS** Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u cá»§a AWS, GPC vv..

**Tham kháº£o**: High Performance MySQL: Optimization, Backups, and Replication Third Edition