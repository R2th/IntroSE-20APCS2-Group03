Online users ngÃ y cÃ ng trá»Ÿ nÃªn khÃ´ng thÃ­ch (hoáº·c cáº£m tháº¥y khÃ³ chá»‹u) Ä‘á»‘i vá»›i sá»­ dá»¥ng tÃ­nh nÄƒng Ä‘Äƒng kÃ½ truyá»n thá»‘ng sá»­ dá»¥ng username/email vÃ  password. Há» thÃ­ch sá»­ dá»¥ng tÃ­nh nÄƒng Ä‘Äƒng nháº­p chá»‰ báº±ng má»™t cÃº nháº¥p chuá»™t thÃ´ng qua Facebook, Google hoáº·c GitHub hÆ¡n nhiá»u, Ä‘á»¡ cáº§n pháº£i suy nghÄ© xem Ä‘áº·t máº­t kháº©u lÃ  gÃ¬, username lÃ  gÃ¬, cÃ³ cáº§n lÆ°u láº¡i Ä‘á»ƒ sau nÃ y Ä‘Äƒng nháº­p láº¡i khÃ´ng ..v.v. Tuy nhiÃªn, nÃ³ Ä‘i kÃ¨m vá»›i má»™t sá»± Ä‘Ã¡nh Ä‘á»•i.

#### Æ¯u Ä‘iá»ƒm:
- KhÃ´ng cáº§n pháº£i Ä‘iá»n form nhiá»u trÆ°á»ng phá»©c táº¡p
- KhÃ´ng cáº§n pháº£i nhá»› thÃªm username/email vÃ  password khÃ¡c
- ToÃ n bá»™ quÃ¡ trÃ¬nh Ä‘Äƒng nháº­p máº¥t vÃ i giÃ¢y thay vÃ¬ vÃ i phÃºt.
#### NhÆ°á»£c Ä‘iá»ƒm
- VÃ¬ thÃ´ng tin user Ä‘Æ°á»£c cáº­p nháº­t tá»« cÃ¡c nhÃ  cung cáº¥p khÃ¡c (Facebook, Google, Github, ...), Ä‘iá»u nÃ y dáº­y lÃªn váº¥n Ä‘á» nhá»©c nhá»‘i vá» quyá»n riÃªng tÆ° cá»§a cÃ¡c nhÃ  cung cáº¥p sá»­ dá»¥ng táº¥t cáº£ dá»¯ liá»‡u cÃ¡ nhÃ¢n nÃ y. VÃ­ dá»¥, [Facebook Ä‘ang pháº£i Ä‘á»‘i máº·t vá»›i cÃ¡c váº¥n Ä‘á» vá» quyá»n riÃªng tÆ° dá»¯ liá»‡u](https://www.reuters.com/article/us-facebook-privacy-costs-analysis/privacy-issues-emerge-as-major-business-risk-for-facebook-idUSKBN1GW01F).

Tuy nhiÃªn, cÃ³ má»™t phÆ°Æ¡ng phÃ¡p giáº£i quyáº¿t váº¥n Ä‘á» trÃªn mÃ  cÃ¡c developer blockchain hay sá»­ dá»¥ng, Ä‘Äƒng nháº­p chá»‰ vá»›i 1-click vá»›i Metamask , hay cÃ²n gá»i lÃ  "**Login with Metamask**"

![Imgur](https://i.imgur.com/GRq01L2.gif)

<div align="center">

*CÃ³ váº» ráº¥t lÃ  á»•n Ä‘Ãºng khÃ´ng?*

</div>

TrÃªn hÃ¬nh chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng, chá»‰ cáº§n chÃºng ta áº¥n Sign (kÃ½) lÃ  cÃ³ thá»ƒ login vÃ o tÃ i khoáº£n game rá»“i chÆ¡i nhÆ° bÃ¬nh thÆ°á»ng thÃ´i. CÃ¡ch login khÃ´ng há» rÆ°á»m rÃ  vÃ  cháº³ng lá»™ thÃ´ng tin cÃ¡ nhÃ¢n á»Ÿ Ä‘Ã¢u cáº£, ráº¥t lÃ  tiá»‡n. 

CÆ¡ cháº¿ login cÅ©ng ráº¥t Ä‘Æ¡n giáº£n. Ã tÆ°á»Ÿng cÆ¡ báº£n lÃ  vá» máº·t máº­t mÃ£, chÃºng ta cÃ³ thá»ƒ chá»©ng minh ráº±ng mÃ¬nh lÃ  chá»§ sá»Ÿ há»¯u tÃ i khoáº£n náº¿u chÃºng ta **kÃ½** vÃ o má»™t Ä‘oáº¡n **message** mÃ  server yÃªu cáº§u. Náº¿u báº¡n gá»­i má»™t Ä‘oáº¡n chá»¯ kÃ½ (signature) Ä‘Ã£ kÃ½ vá»›i message Ä‘Ã³ tá»›i server, thÃ¬ server sáº½ coi báº¡n lÃ  chá»§ sá»Ÿ há»¯u cá»§a Ä‘á»‹a chá»‰ vÃ­ cÃ´ng khai Ä‘Ã³. Váº­y nÃªn, hoÃ n toÃ n cÃ³ thá»ƒ xÃ¢y dá»±ng há»‡ thá»‘ng Ä‘á»‹nh danh báº±ng phÆ°Æ¡ng phÃ¡p nÃ y.

![image.png](https://images.viblo.asia/103aaabc-8d5d-4f7f-83e9-aeda124fdb68.png)
<div align="center">

*Há»‡ thá»‘ng login 1-click vá»›i Metamask*

</div>

### Váº­y thÃ¬ cÃ³ váº¥n Ä‘á» gÃ¬ á»Ÿ Ä‘Ã¢y nhá»‰?

NhÆ° bÃ i Ä‘áº§u tiÃªn mÃ¬nh cÃ³ phÃ¢n tÃ­ch táº¡i [Láº¡i hack game Blockchain, truy cáº­p vÃ o tÃ i khoáº£n báº¥t ká»³ trong game](https://viblo.asia/p/lai-hack-game-blockchain-truy-cap-vao-tai-khoan-bat-ky-trong-game-gGJ59BbaKX2), mÃ¬nh Ä‘Ã£ cÃ³ thá»ƒ truy cáº­p vÃ o account báº¥t ká»³ cá»§a má»™t game thÃ´ng qua Ä‘á»‹a chá»‰ vÃ­ cÃ´ng khai (public key) cá»§a ngÆ°á»i Ä‘Ã³. Tuy nhiÃªn, cÃ¡c developer cÅ©ng ráº¥t Ã­t khi gáº·p lá»—i sÆ¡ Ä‘áº³ng nhÆ° váº­y (nhÆ°ng cÅ©ng khÃ´ng pháº£i lÃ  khÃ´ng cÃ³, mÃ¬nh cÅ©ng cÃ³ khai thÃ¡c á»Ÿ má»™t game khÃ¡c cÅ©ng Ä‘Äƒng nháº­p thÃ´ng qua public key vÃ  Ä‘Æ°á»£c thÆ°á»Ÿng má»™t khoáº£n tÆ°Æ¡ng xá»©ng :D)

![image.png](https://images.viblo.asia/0c9b2144-c70e-4496-8ec6-8a5fb5f89794.png)

ThÃ´ng thÆ°á»ng, developer sáº½ yÃªu cáº§u chÃºng ta kÃ½ vÃ o má»™t Ä‘oáº¡n message. Tuy nhiÃªn, cÃ¡c báº¡n cÃ³ thá»ƒ tháº¥y ráº±ng khi mÃ¬nh login vÃ o game, mÃ¬nh Ä‘Ã£ kÃ½ vÃ o Ä‘oáº¡n message cÃ³ ná»™i dung lÃ  "**Verify Account**". ChÃºng ta Ä‘Ã£ biáº¿t ráº±ng chá»¯ kÃ½ Ä‘iá»‡n tá»­ thÃ¬ sá»­ dá»¥ng private key Ä‘á»ƒ mÃ£ hoÃ¡ vÃ  public key Ä‘á»ƒ giáº£i mÃ£. Váº­y thÃ¬ private key cá»§a má»—i vÃ­ chá»‰ cÃ³ 1, ná»™i dung kÃ½ cÅ©ng chá»‰ cÃ³ 1 => báº£n mÃ£ cÅ©ng chá»‰ cÃ³ 1. Æ  tháº¿ váº­y thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i báº£n mÃ£ sau khi kÃ½ xong Ä‘á»ƒ login vÃ o game Ã ?

Test thá»­ xem sao nhÃ©.

![image.png](https://images.viblo.asia/6cc7c4c0-0ee1-4ac1-b410-6c72be1041ee.png)

Request nÃ y cÃ³ thá»ƒ tháº¥y ráº±ng, mÃ¬nh Ä‘Ã£ gá»­i public key vÃ  signature sau khi mÃ¬nh kÃ½ vÃ o chá»¯ "**Verify Account**", login thÃ nh cÃ´ng.

Tuy nhiÃªn, mÃ¬nh sá»­ dá»¥ng https://www.myetherwallet.com/wallet/sign Ä‘á»ƒ láº¥y vÃ­ mÃ¬nh kÃ½ vÃ o chá»¯ "**Verify Account**" thÃ¬ cÅ©ng nháº­n Ä‘Æ°á»£c káº¿t quáº£ tÆ°Æ¡ng tá»±. 

![image.png](https://images.viblo.asia/301621b7-7ae5-4a15-bb1f-b8576cc6b80e.png)

Váº­y lÃ , hoÃ n toÃ n mÃ¬nh cÃ³ thá»ƒ dá»±ng lÃªn má»™t trang web, yÃªu cáº§u má»i ngÆ°á»i kÃ½ vÃ o message "**Verify Account**" vÃ  rá»“i cÃ³ thá»ƒ láº¥y Ä‘Æ°á»£c signature vÃ  sá»­ dá»¥ng nÃ³ Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o game/á»©ng dá»¥ng (náº¿u há» cÃ³ chÆ¡i game/á»©ng dá»¥ng Ä‘Ã³). 

Tuy cáº§n má»™t chÃºt phishing nhÆ°ng vá»›i ngÆ°á»i dÃ¹ng hiá»‡n nay, nháº¥t lÃ  cÆ¡n bÃ£o GameFI Ä‘ang Ä‘á»• bá»™, hoÃ n toÃ n má»i ngÆ°á»i sáº½ khÃ´ng Ä‘á»ƒ Ã½ Ä‘áº¿n cÃ¡i message Ä‘á»ƒ kÃ½ Ä‘Ã³ mÃ  má»i ngÆ°á»i sáº½ kÃ½ luÃ´n Ä‘á»ƒ login vÃ o game chÆ¡i, chá»‰ cÃ³ chÃºa má»›i biáº¿t Ä‘Æ°á»£c ráº±ng há»‡ thá»‘ng backend cá»§a nhá»¯ng game Ä‘Ã³ cÃ³ Ä‘ang thu tháº­p Signature cá»§a ngÆ°á»i chÆ¡i hay khÃ´ng, há» cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o cÃ¡c game khÃ¡c náº¿u cÃ³ ná»™i dung kÃ½ tÆ°Æ¡ng tá»±. 

![image.png](https://images.viblo.asia/50cf2096-eac4-408b-85a2-4f9617e213b5.png)

<div align="center">

*VÃ­ dá»¥ nhÆ° game nÃ y, náº¿u mÃ¬nh cÃ³ giÃ¡ trá»‹ Signature cá»§a user thÃ¬ cháº³ng pháº£i mÃ¬nh cÃ³ thá»ƒ Ä‘á»•i password Ä‘Æ°á»£c hay sao ğŸ¤”*

</div>

### Update

MÃ¬nh vá»«a gáº·p má»™t trÆ°á»ng há»£p khÃ¡ lÃ  buá»“n cÆ°á»i, tháº¥y báº¡n mÃ¬nh gá»­i cho link nÃªn cháº³ng biáº¿t tháº¿ nÃ o, vÃ o check xem sao. Tháº¥y báº£o game nÃ y Ä‘ang hot láº¯m.

![image.png](https://images.viblo.asia/02550535-e364-4133-96ca-c82579d78a9e.png)

ThÃ´ng tin chá»¯ kÃ½ cÃ³ ngáº«u nhiÃªn Ä‘áº§y Ä‘á»§, khÃ¡ xá»‹n xÃ². Check request thÃ¬ cÃ³ váº» ráº¥t an toÃ n rá»“i chá»© nhá»

![image.png](https://images.viblo.asia/0d3910d7-11ae-4787-b4ff-fcdae9b147c5.png)

Tuy nhiÃªn, mÃ¬nh thá»­ kÃ½ vá»›i message vÃ  sign khÃ¡c xem sao

![image.png](https://images.viblo.asia/097e0361-b44f-41a7-9bf7-269cd2a767a2.png)
KÃ½ vá»›i chá»¯ "a"

![image.png](https://images.viblo.asia/712ce6f4-3603-4685-90ce-84500392ad4e.png)

á»š táº¡o Ä‘Æ°á»£c session Ä‘Äƒng nháº­p thÃ nh cÃ´ng nÃ y, váº­y thÃ¬ vá»›i message vÃ  sign báº¥t ká»³ cá»§a user nÃ o Ä‘á»u cÃ³ thá»ƒ login Ä‘Æ°á»£c, quáº£ lÃ  áº£o ma canada =)) 

### Váº­y lÃ m sao Ä‘á»ƒ login vá»›i Metamask an toÃ n
- Sá»­ dá»¥ng giÃ¡ trá»‹ Nonce ngáº«u nhiÃªn gá»­i cÃ¹ng message khi yÃªu cáº§u user kÃ½
- GiÃ¡ trá»‹ Nonce háº¿t háº¡n sau má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh
- Thay Ä‘á»•i Nonce khi login thÃ nh cÃ´ng
- ....

### Tham kháº£o
 - https://www.toptal.com/ethereum/one-click-login-flows-a-metamask-tutorial